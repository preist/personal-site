.grid {
  display: grid;
  grid-template-columns: repeat(var(--cols), 1fr);
  gap: var(--gap);

  &.gap-sm { gap: var(--gap-sm); }
  &.gap-lg { gap: var(--gap-lg); }
  &.gap-none { gap: 0; }

  &.auto-fit {
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  }

  &.auto-fill {
    grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
  }

  @media (max-width: 639px) {
    grid-template-columns: 1fr;
  }
}

.grid-item {
  &.col-1 { grid-column: span 1; }
  &.col-2 { grid-column: span 2; }
  &.col-3 { grid-column: span 3; }
  &.col-4 { grid-column: span 4; }
  &.col-5 { grid-column: span 5; }
  &.col-6 { grid-column: span 6; }
  &.col-7 { grid-column: span 7; }
  &.col-8 { grid-column: span 8; }
  &.col-9 { grid-column: span 9; }
  &.col-10 { grid-column: span 10; }
  &.col-11 { grid-column: span 11; }
  &.col-12 { grid-column: span 12; }
  
  &.col-half { grid-column: span 6; }
  &.col-third { grid-column: span 4; }
  &.col-quarter { grid-column: span 3; }
  &.col-full { grid-column: 1 / -1; }
  
  @media (min-width: 640px) {
    &.sm-col-1 { grid-column: span 1; }
    &.sm-col-2 { grid-column: span 2; }
    &.sm-col-3 { grid-column: span 3; }
    &.sm-col-4 { grid-column: span 4; }
    &.sm-col-5 { grid-column: span 5; }
    &.sm-col-6 { grid-column: span 6; }
    &.sm-col-7 { grid-column: span 7; }
    &.sm-col-8 { grid-column: span 8; }
    &.sm-col-9 { grid-column: span 9; }
    &.sm-col-10 { grid-column: span 10; }
    &.sm-col-11 { grid-column: span 11; }
    &.sm-col-12 { grid-column: span 12; }
    &.sm-col-half { grid-column: span 6; }
    &.sm-col-third { grid-column: span 4; }
    &.sm-col-quarter { grid-column: span 3; }
    &.sm-col-full { grid-column: 1 / -1; }
  }
  
  @media (min-width: 768px) {
    &.md-col-1 { grid-column: span 1; }
    &.md-col-2 { grid-column: span 2; }
    &.md-col-3 { grid-column: span 3; }
    &.md-col-4 { grid-column: span 4; }
    &.md-col-5 { grid-column: span 5; }
    &.md-col-6 { grid-column: span 6; }
    &.md-col-7 { grid-column: span 7; }
    &.md-col-8 { grid-column: span 8; }
    &.md-col-9 { grid-column: span 9; }
    &.md-col-10 { grid-column: span 10; }
    &.md-col-11 { grid-column: span 11; }
    &.md-col-12 { grid-column: span 12; }
    &.md-col-half { grid-column: span 6; }
    &.md-col-third { grid-column: span 4; }
    &.md-col-quarter { grid-column: span 3; }
    &.md-col-full { grid-column: 1 / -1; }
  }
  
  @media (min-width: 1024px) {
    &.lg-col-1 { grid-column: span 1; }
    &.lg-col-2 { grid-column: span 2; }
    &.lg-col-3 { grid-column: span 3; }
    &.lg-col-4 { grid-column: span 4; }
    &.lg-col-5 { grid-column: span 5; }
    &.lg-col-6 { grid-column: span 6; }
    &.lg-col-7 { grid-column: span 7; }
    &.lg-col-8 { grid-column: span 8; }
    &.lg-col-9 { grid-column: span 9; }
    &.lg-col-10 { grid-column: span 10; }
    &.lg-col-11 { grid-column: span 11; }
    &.lg-col-12 { grid-column: span 12; }
    &.lg-col-half { grid-column: span 6; }
    &.lg-col-third { grid-column: span 4; }
    &.lg-col-quarter { grid-column: span 3; }
    &.lg-col-full { grid-column: 1 / -1; }
  }
}

.split {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: var(--gap);
  min-height: 100vh;

  @media (max-width: 767px) {
    grid-template-columns: 1fr;
    min-height: auto;
  }

  &.gap-sm { gap: var(--gap-sm); }
  &.gap-lg { gap: var(--gap-lg); }
  &.gap-none { gap: 0; }

  &.split-1-2 { grid-template-columns: 1fr 2fr; }
  &.split-2-1 { grid-template-columns: 2fr 1fr; }
  &.split-1-3 { grid-template-columns: 1fr 3fr; }
  &.split-3-1 { grid-template-columns: 3fr 1fr; }

  @media (max-width: 767px) {
    &.split-1-2,
    &.split-2-1,
    &.split-1-3,
    &.split-3-1 {
      grid-template-columns: 1fr;
    }
  }
}

.grid .grid {
  grid-column: 1 / -1;
  margin: 0;
}

.grid {
  &.align-start { align-items: start; }
  &.align-center { align-items: center; }
  &.align-end { align-items: end; }
  &.align-stretch { align-items: stretch; }
  
  &.justify-start { justify-items: start; }
  &.justify-center { justify-items: center; }
  &.justify-end { justify-items: end; }
  &.justify-stretch { justify-items: stretch; }
}

.grid-item {
  &.align-start { align-self: start; }
  &.align-center { align-self: center; }
  &.align-end { align-self: end; }
  &.align-stretch { align-self: stretch; }
  
  &.justify-start { justify-self: start; }
  &.justify-center { justify-self: center; }
  &.justify-end { justify-self: end; }
  &.justify-stretch { justify-self: stretch; }
}

@supports not (display: grid) {
  .grid {
    display: flex;
    flex-wrap: wrap;
    margin: -0.5rem;
  }

  .grid-item {
    padding: 0.5rem;
    
    &.col-1 { width: 8.333333%; }
    &.col-2 { width: 16.666667%; }
    &.col-3 { width: 25%; }
    &.col-4 { width: 33.333333%; }
    &.col-5 { width: 41.666667%; }
    &.col-6 { width: 50%; }
    &.col-7 { width: 58.333333%; }
    &.col-8 { width: 66.666667%; }
    &.col-9 { width: 75%; }
    &.col-10 { width: 83.333333%; }
    &.col-11 { width: 91.666667%; }
    &.col-12 { width: 100%; }
    
    &.col-half { width: 50%; }
    &.col-third { width: 33.333333%; }
    &.col-quarter { width: 25%; }
    &.col-full { width: 100%; }
  }
  
  .split {
    display: flex;
    
    > * {
      flex: 1;
    }
  }
}